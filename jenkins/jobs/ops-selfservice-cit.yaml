- job:
    name: 'ops-selfservice-cit'
    node: vsi
    parameters:
       - string:
            name: Feature_BranchName
            default:
            description: "Please give the name of feature branch that you want us to run CIT for"
       - string:
            name: Repositories_List
            default:
            description: "Please give the list of repositories to fetch the above given Feature Branch in comma separated values, for example: ops-aaa-utils,ops-portd,ops-cli "
    wrappers:
        - workspace-cleanup
        - build-timeout:
            timeout: 180

    builders:
        - ops-distclean
        - ops-build-ondemand:
            platform: 'genericx86-64'
        - check-docker-state
        - clear-test-logs
        - run-legacy-feature-test-ondemand:
            platform: 'genericx86-64'
        - cp-test-logs

    publishers:
        - conditional-publish-test-results
        - archive-syslog
        - archive-opsTest-logs
        - archive-vsiTest-logs
        - post-ws-clean
